<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Preloading urls on hover using vue custom directives - osvaldom</title><meta name="gridsome:hash" content="125a1839dcff1325d5e97fb72ed932ebe1d9aefe"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Osvaldo&#x27;s online location"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.bdc8493c6d4bfbbc1b6fe79c030ffce5.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.bdc8493c6d4bfbbc1b6fe79c030ffce5.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.bdc8493c6d4bfbbc1b6fe79c030ffce5.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.bdc8493c6d4bfbbc1b6fe79c030ffce5.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.bdc8493c6d4bfbbc1b6fe79c030ffce5.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.bdc8493c6d4bfbbc1b6fe79c030ffce5.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.bdc8493c6d4bfbbc1b6fe79c030ffce5.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.bdc8493c6d4bfbbc1b6fe79c030ffce5.png"><link rel="preload" href="/assets/css/0.styles.cb0481da.css" as="style"><link rel="preload" href="/assets/js/app.b818e3a5.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.b5b98183.js"><link rel="prefetch" href="/assets/js/page--src--pages--about-vue.363593c6.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.e1b083e4.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.0766cc85.js"><link rel="prefetch" href="/assets/js/page--src--pages--portfolio-vue.1864e5e6.js"><link rel="prefetch" href="/assets/js/page--src--templates--article-vue.847711c3.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.f9423889.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--index-vue.c60b3621.js"><link rel="stylesheet" href="/assets/css/0.styles.cb0481da.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="bg-gradient-to-r from-rose-400 to-orange-300 relative xl:py-10  xl:px-20" data-v-42091432><div class="container page-container mx-auto bg-white xl:rounded-3xl px-2 xl:px-24 py-2 xl:py-5 shadow-2xl relative"><header class="header
          fixed bottom-0 left-0 xl:static
          flex justify-between items-center
          xl:mb-6
          w-screen xl:w-auto
          px-4 py-2 xl:px-0 xl:py-0
          bg-gray-50 border-t xl:bg-transparent xl:border-none"><a href="/" class="hidden xl:block"><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 50 50' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-0b80317df9fd0d7bd4d79f134cbf9ef1'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-0b80317df9fd0d7bd4d79f134cbf9ef1)' width='50' height='50' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsSAAALEgHS3X78AAAOsklEQVR42uVaaXBUVRbuP1NTNaPOoKIoLrixZOk1e3cnBAgQNkEWUdlVAiKiIntANktZpURgQEhghLALKGFUxgJGRyJLQCEk6SRkB5LIEAhZCAnfnHP73eal04HQ3YnDeKtOvddvue%2be7%2bzntgZeHDdu3BDkfO64X1OLmkuXcO1sNiqOJ6P8hx%2bJ/o2Ko8dwzZaBmosXcaO62uW8Dc3p6dA0CfO1tcRsjThnZks3bcaFdyYhr1c/ZGkDkNGmLWyPPwPbo08RtYHtsafFtUxfA3K79cL5N97CpbVxqEo545iX52sKIDRe4Lzuwq5fd9z6dcFi2B55EukPPoq0vz6E9Iceg601Mf3Es8h48jnBtCA652sMRPrDj9OzDyP9gUfE%2bflxE1QaVCPA9SYIGq9KXTmvzslF0YxZyHi6vV26fCRKf7od0onhNLqWSpJPJXAE0Tlf43sZz3Yg8kHGMx3swBBg58aOR%2bXPv9QBwlsgaLwieWVBPP6zajUy2/ohrUUrpNHi04m5TJJuLql8Pql8PjF63kePElMoioPMKAokMoagsIMOOfR82n0tcabFw0hjUAgcNhXWID4Wvz8XN65ds39T0TRPQdB4In0187UVFSgc8TrS/tISNpYcLf68H9m0tRNS2zyHf7bzx0ZrJPZOeBfrJ07CgnHjse6jBfh86TLEzZuPvQsW4edln%2bDi4mW4/PpYnDMEoYDezaD30ggA1iKeO7d7b1QXFNYDAW6CoPGIecUeaysqkdd3AC3wIbv6PtgaOVE9sOG9yRg1aDAGBgbDHB4BkzUcgZGdoA8Jg5/BBK0xADpTIHQBQTCFWRAW1Q1jJr6H1fHrsfdva5B59Chu5Obh/NBRSCWtYLNgbTgbZEF1fn49c2hWANSqd%2b7VGCEdZp6dV/G0mZj83iT4EnNGosBQM8KCQ2EmCgsKgZl%2bW4lhiyT6bSZQQgkog78OWl9/GOm89/P9sHLtOpRcuYKyNWuRRk6RNYFByCWAaysr6wjCHRA0bktfUb9LcRsczJ8h7125ag32HjgIX2LCqjAaQscghUIVZi1EZoXkeRjdCzFbEWIJRzC/RyD4tvfBrNiZKKXvlu3chfRWTwhN4G8WTZ91Mzq46QvcAkAifr2khOK6SYSwtPsfwYUpM8T1sTFjodfqYSVmmOmuQaHoSZLvRkdm1kDMaYl0CvG5nk2A7vGz0fRsD6IQusZzGPVG7Nq%2bwx5aV68lLWOf0E5EmMqTP9cBoXlMQJH%2bxWXLifFWwuFlk0ryyM3LR4Q1AqGk7izFKDpubOeHQQHBGGEMxGx/A5b66rCEaKrWiEk6IxbSOV%2bbS/diDAHoHRiC9e39MJh9AwEQTMeJ705EdVWV%2bEYhOcn0lq2FKcg8wV0t8MgEcjp3FyrJ2dyVA4fE9W2bt8DfT4twWjhLlZkbQ0z5mS0IZpMgKfcnMCbqTNhATCYQOAzEi8RkBN3jZ1gjBtAzK320AsQgutf/hQHIpHSZRxVll5nt/Qn4Nsii7PH6ufN1fEGTASBTUh6seqz6LIWCV4ZDfnru3HnQkyMLIDseagrCLJIqA8GqzyrOPiCASKq%2bJFOYWfgKfoZB4vsT9CZMIPD8SYu6U4RY%2b9laVCuOr2jmbHu2SJpwZdceRSg1zaAB0vnF/92uhpTeXtnzleP%2bq6Neg45sNoIYmEGSZWYkY2qSzk/tDJ2f4egxjeboQef%2bFDZjZ8Q64j1nhhlPUVZJ4bE49n23/cCda4ACAHvgtHvux1lDMKqLS8S14qIiRHeLhp4c2CiSfh%2by5QAZ4iQIyjFUBUpD99iBdiHpj6W5DGQGgwYOQnFxsT33IHXP7fE8Uv98PwpeHFIvHW86ABQ7Ozf6DZz5wz0opCRFfjI7Mwvh4R3RlcLXAGI%2b0BXzjSHlHbOiBX0IUKZgAuNoUpJ9LQw4pcapf7xXVJDuJkQadxIgHgWvjBAAFM%2bZ71gQj/lLP0aIr1aEr1Bn1W8sAE6aYOa5yK%2bMpSxRPbjMTv1TC%2bSEd0FtWVkzAzB4KKF/Hy5v2S5%2bXz38E2qPJ2Pz%2bLcR6a8XCU2YO9JXASCJ84GeOgPiKd0u/yoRl3d/ieu//oqKY8nCEWaHRaDm8pVmBmDISLK/Fij9fBMKXhpK0aA10qhiK6CQuIVCm7R9t5hXgcBzmOh8O815oRWVzi0fE70FDsGXd3whyuVsSyRqy8ubCQDF1s7FjBMlL5e%2bnAhx7Z5OlEuh8Vuq6T2SvpMWsB/4hubM4bD7VDvy/u0E4%2bKbVB/kdu1ZL09p8ihQPHOOvfrjBSldHQYgmxb5PRUs4erw5wEAEsRDz7S3A8CdJNlNom%2bzCRS8NKx5wmCdPGBtvEiCRLdHaXFxHyCLzpNpcZ04FfYCAAwiz5VEzGarABDf5MqQ6oKiabHNmAcoJlCR9JNIQkTLS/b06MjdnxQ6cjET5AUAeA4upE4QqFnKNxw9RSIOg6WbtjSjBqgaoGWJ/0CWn8Fhj7y4DK4M6TiQcnmHI3QTAH6X5%2bDaIUUB1yY1gBxuJjnG0o0JN9tkzVYNqj6U0yVapMOi1a2AwAvlys8Y5jkARgqBQygTlMzbFPvnIizb2unmmtxsirjXD5BaUHUNORFd7FFABQDb6jgqYgyqIshdALiQeo3AzOPmqAoA1jpujdVevepRc9Sjlpio/ykEpd37gKONza3tfDpOokpOpwAQ6qb9WxQAuCIsfLKtPQSy9%2beO0H0PIo9qAU/aYZ4BoHyY9wDy%2bw0S3tim9PsLKTrM6eAPLWWDFg9MQABgtmCWrw75lHOk8sYKaRu3wwqHvya20tztA3hnY0SJCLyQnI5RyPI3ITPYihLSitio7tCS97a4GwHYBIgMwSF4o2NnFA18GTnRfYTJ5fXpT6nv5d%2b%2bK1xnX6DsKq6fv4BrlKPz2Lx9h%2bgMWSzhCHVDC/gdi8Uq5vhg4SI70NXVIuV1/rYnmyMebYzc3B%2b4%2bXF5dpGA6BrVDcGkBWEeaEEQvZ9y%2brSjB%2bDtHWPv7Q0qfoGpRskWV69eA18ff1jvUAv4WX6HpT992nQH8877Eb/t3mAjQKmsrMKLgwbDoDc2GgSh%2btxODwxGp8jOKFC2wWo9cHTNDoCwV8U%2b01LTYOUtsYAgBwgNASGZ5yOD9t1339WZy9t/jmgSAFyBcOTIUYRbI6DXGQQIZt4Ecfb4vAlC9wJMgTAZA7B79556zN9VADiDYLNlYNjQYcKuWbohvFdITDOxxJlpP19/9On9PH788bDjXbW9/8%2bZgLNDYjvlRTPVqjq0EgQ%2b7ty5E6NGvorIjp1gNJhIK%2bz%2b4eWXXkHcujiUXSmrw7wkObd63t/cCd5OOrzY6xQR5FH9XG5uLk6cOInk5GRkZWWJ%2b3JUc7xXgdnQ3N7QDI23mC8vr0BKSopg6OTJkyhW9gq8MUpLS3Hq1CkcP56MU7%2bcwqVLl7wGglc04BrV46NfjxGeXjq1qC5dMfv92UhM3IdjR48JH1BQUCA2NkpKSlwS3yssLERmZiYBeQLffrsfixctRs8evRxRghOrfn1fwIULF7wSHj3SAKmeO3d%2bAZ8Ovg7vzjFc56%2bna34w6G46PI4EHSMi0blTFwGQoCj7ka9FdowUz3Ao5HfYR/j6%2bEHLe40UHUSBRPc6tPfBksVL6znKJgfAldPjETM6xpHs8MJ79eqNESNGokd0T/LugdBp9cSEXkQAZojB4qOa%2bBoTRwJmmN9hABic4cNG4IV%2b/YUGMJAMMEeLMmUzpNaDv85p3PX00mmxKkaEd3RImRfJi542dRoOHDiAjIxMHKawtnXrNqxauQqLSKXnzZ2HmbEzxTNTiWJnzMTcOXOxcMFCrPh0BTZtSsChQ/8is7EhKSkJH8z/QIApEyj%2bDofN48eO2/%2boQWuRzvZOI4SmsYy7UrXKykp8tuYzISl1csN2ykkPqzv7gdOnU%2b5YNTlKLF3yMbp17S7mYqk7%2bgT83wMyrTmz5%2bCyUharR80d/KtUczvmGVW1o%2bGFsc1PnjwF3btF13F86jTXbLYIrfDztSc%2bI4aPxA4qkdnZNTRYpb/%2b%2bhu8Oe5NwTCbBh%2bZYTm/%2bijrhbfGT8DGzzfClm6rs9bGmIbmdszLsZ88Mu/9s52zjTKppeKc38vfvHjWDgaB/UCXzlFYSaZw9epV5OXlCUD5nBMk9vb8nF5rcLzb0NzyGoPM/oL9C1/jhGrrlq11tOFWIGgaCm2S%2baqqKmGv/BFWRVmwyMW5WqArIGQUYEcXEzNG2DZng3w/MTERH374EZ57ti3CwyMaZNzVvBIo%2bQ6bI4Mxhr4h/0twKxA0t2M%2bZvQYsWhnpt3q8dH77OXZCX7//Q8CUJ5727bt2LB%2bg1B51jBPviGLKgahb99%2bjnyhoYpS40r95UNTp0wTi2LJ3U4ijSFeGMfwTz5ZLpIcrZ%2bOFqpDXFw8du3ajXZt23sMgDQPXjPnIkOHDBOJmrpzpQZB01AJu4XsiKXl6YKcNYAlnpCQQFLfJs5ZUkuXLMXBg4cE2J5qmRoIBoHnXPDRgnpdJZcaIFWfnRN7Vw5nMrZ7CwAGdQ/V%2bitWrBTn7FumT5%2bBw4eT6oVTbxDPx1nkkSNH7DzW1NY3AYmKlP5uUkdemOzOeHNBnMCcOHECixYuFpGE/cDkSVNw9uxZr5hZQ71F/oudc5ndIAB79nwpwpG3pcFhkzvFPJYv/9QRTufNs//PKLp7D5FXePO7LET%2bRnz8epe1g0b2susCsEdIxtsAsElxHsCl7Ttvvwuj3iTUnitJTnsZAHVu4V0A4m%2btATKnFiaw2/sAqBMXeXR1zdtmIAFYty6uDo8OANRoyJuJexObxAScU1lX17ztcyQACQmb6wHApHEueHgcOHBQeE6Zxt7NFG4NFw6d8w5XhZLGVQ6wf/9%2bEaMD%2bV8eBMTdTOx3OMXet2%2bfy4xQ4yoFzs/PdzQhBg4YhAH9B96VxGvnv9kPGTIUOTk5LvuImlttanB5Wl5eTtXa3Um8dubhVjtLmjtpc9/Nw1Ud0GAx5FwY/T9Qo8rh3%2bP43QPwX7klmj9dSGS2AAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="50" data-src="/assets/static/osvaldo.0d639c8.512325376f211f4e20b6970791b3968b.png" data-srcset="/assets/static/osvaldo.0d639c8.512325376f211f4e20b6970791b3968b.png 50w" data-sizes="(max-width: 50px) 100vw, 50px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/osvaldo.0d639c8.512325376f211f4e20b6970791b3968b.png" class="g-image g-image--loaded" width="50"></noscript></a><nav class="nav xl:-mr-24 w-full xl:w-auto"><ul class="flex justify-between"><li class="nav__item"><a href="/" class="nav__link block font-semibold transition-all delay-75 duration-500 ease-in-out"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" svg-inline="" width="30" role="presentation" focusable="false" tabindex="-1" class="mx-auto block focus:outline-none xl:hidden"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
                Home
              </a></li><li class="nav__item"><a href="/portfolio/" class="nav__link block font-semibold transition-all delay-75 duration-500 ease-in-out"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" svg-inline="" width="30" role="presentation" focusable="false" tabindex="-1" class="mx-auto block focus:outline-none xl:hidden"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                Portfolio</a></li><li class="nav__item"><a href="/blog/" class="nav__link block font-semibold transition-all delay-75 duration-500 ease-in-out active"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" svg-inline="" width="30" role="presentation" focusable="false" tabindex="-1" class="mx-auto block focus:outline-none xl:hidden"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                Blog</a></li></ul></nav></header><main><article class="article" data-v-42091432><h1>Preloading urls on hover using vue custom directives</h1><div class="markdown-body"><p>I recently added a functionality in which when a user hovered over a certain link on my page,
I would preload the url to where that link pointed.
The benefits and limitations around this are clearly explained in this <a href="http://instantclick.io/" target="_blank" rel="noopener">post</a> from <a href="http://instantclick.io/" target="_blank" rel="noopener">instantclick.io</a>,
but in summary:</p>
<blockquote>
<p>Before visitors click on a link, they hover over that link. Between these two events, 200 ms to 300 ms usually pass by (test yourself here). InstantClick makes use of that time to preload the page, so that the page is already there when you click.</p>
</blockquote>
<p>Here is what happens with this approach:</p>
<ul>
<li>User hovers over a link on the page;</li>
<li>We send a GET request to the value of the link's href property;</li>
<li>By the time the user clicks on the link, the page will already be in the cache(or at least, connection latency will have decreased).</li>
</ul>
<p>I firstly implemented this as follows:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/page-to-be-preloaded<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-on:</span>mouseover.once</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>preload<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> Hover over me to preload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">preload</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>target<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'fetching'</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span><span class="token property-access">href</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">fetch</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token property-access">href</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p>I noticed that this preload technique could be reused in other parts of my application, but adding
a component for a pre-load link seemed cumbersome, since this doesn't declare any reusable HTML
or require any state management, so I decided to use custom directives, which are another form of code reusability in vue that
allows us to work directly with DOM elements.</p>
<p>To achieve that, first lets create a directive :</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword module">export</span> <span class="token keyword">const</span> preloadOnHover <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow">if</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token property-access">tagName</span><span class="token punctuation">.</span><span class="token method function property-access">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">'preload directive added to non-link element'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword control-flow">if</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token property-access">href</span> <span class="token operator">===</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">.</span><span class="token property-access">href</span><span class="token punctuation">)</span> <span class="token comment">//We could even validate the url here.</span>
            <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
        el<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseover'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>target<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
            <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'preloading'</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span><span class="token property-access">href</span><span class="token punctuation">)</span>
            <span class="token function">fetch</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token property-access">href</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            once<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>A few things to note in this implementation are:</p>
<ul>
<li>We validate to see if the element we want to is a link and that it has the <code class="language-text">href</code> attribute</li>
<li>Since we passed a value of true to the <code class="language-text">once</code> parameter, the event handler will only be executed once.</li>
</ul>
<p>In order to make use of our newly created directive, we just need to declare it as a directive in our component
and then add it to our template as<code class="language-text">v-preload-on-hover</code></p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/page-to-be-preloaded<span class="token punctuation">"</span></span> <span class="token attr-name">v-preload-on-hover</span><span class="token punctuation">></span></span> Hover to preload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- If using vue-router, we can add &lt;router-link v-preload-on-hover>&lt;/router-link> > --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>preloadOnHover<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'../directives'</span><span class="token punctuation">;</span>

    <span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
        directives<span class="token operator">:</span> <span class="token punctuation">{</span>
            preloadOnHover
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<h1 id="a-few-things-we-should-take-into-consideration"><a href="#a-few-things-we-should-take-into-consideration" aria-hidden="true"><span class="icon icon-link heading-anchor"></span></a>A few things we should take into consideration</h1>
<ul>
<li>Whenever possible, consider using HTML resource hints(prefetch, preconnect, preload, etc) instead, to improve
the loading speed of pages/assets that are likely to be needed for the current/next navigation.</li>
<li>Since we're using <code class="language-text">mouseover</code> events, this only works on devices with a pointer/mouse, for devices with touch input,
we'd have to adapt this solution to use other events(eg: <code class="language-text">touchstart</code>)</li>
<li>This should be used carefuly, since we don't want to waste bandwidth by prefetching assets that might not be needed.
</li>
</ul>
<p>The final code for this component can be seen in this <a href="https://codesandbox.io/s/wizardly-aryabhata-160c5?file=/src/components/HelloWorld.vue:0-220" target="_blank" rel="noopener">code sandbox project</a>, and I hope you learned something interesting from this article.</p>
<p>Happy coding!!🚀🚀🚀🚀🚀</p>
</div></article></main><footer class="mt-20 absolute bottom-4 left-0 w-full px-24 hidden xl:block"><ul class="home-links flex"><li class="mr-2"><a href="https://github.com/osvaldoM" target="_blank" rel="noopener">GitHub</a></li><li class="mr-2"><a href="https://twitter.com/impurefunction" target="_blank" rel="noopener">Twitter</a></li><li class="mr-2"><a href="https://stackoverflow.com/users/story/4043487" target="_blank" rel="noopener">Stackoverflow</a></li><li class="mr-2"><a href="https://docs.google.com/document/d/1F8QXk3HaH0zGRcebRWAYwowFziFeIJcy7rnZuvNBXp8/edit?usp=sharing" target="_blank" rel="noopener">Resume</a></li><li class="ml-auto"><span> copyright@2021</span></li></ul></footer><div class="striker-container bg-gray-100 xl:bg-white rounded-full flex justify-center items-center "><svg width="100.94" height="147.84" version="1.0" viewBox="0 0 100.94 147.84" xmlns="http://www.w3.org/2000/svg" svg-inline width="70px" role="presentation" focusable="false" tabindex="-1" class="max-w-full striker-svg fill-current text-rose-400"><g stroke="#000" class="arrow-group"><path d="M3.546 148.66c-2.668-7.862 1.16-12.574 5.938-16.825l3.959 6.928c-1.183 2.484.253 4.094.99 5.938-4.359 4.238-7.65 4.206-10.887 3.96zm14.846-15.835c-2.808-.78-3.937-2.82-4.949-4.949 9.897-7.917 46.038-20.885 23.753-38.599l1.98-13.658h8.907l-.99 9.7c19.752 12.097 1.98 30.68-1.979 33.65-8.908 4.448-17.815 7.376-26.722 13.856zM3.546 1.195C.878 9.057 4.706 13.769 9.484 18.02l3.959-6.928c-1.183-2.484.253-4.094.99-5.938C10.074.916 6.783.948 3.546 1.194zM18.392 17.03c-2.808.78-3.937 2.82-4.949 4.949 9.897 7.917 46.038 20.885 23.753 38.599l1.98 14.45h8.907l-.99-10.491c19.752-12.097 1.98-30.681-1.979-33.65-8.908-4.45-17.815-7.377-26.722-13.856zM12.436 128.83l-1.968 2 .006.011 3.959 7.918c3.552 1.864 4.571-.071 4.949-2.97-2.451-2.12-5.12-3.95-6.929-6.927z" stroke-width=".198"></path><path d="M13.587 63.495c-1.671-.055-2.22 1.461-2.727 3.036l1.19 63.327 2.674-.848z" stroke-width=".198" class="bottom-line"></path><path d="M13.54 20.946l-2.704-.913.054 31.34.02 12.26.042 24.014 2.572-1.871z" stroke-width=".222" class="top-line"></path><path d="M16.651 10.355c-.601.035-1.33.264-2.219.73l-3.959 7.918 1.98 1.979c1.809-2.977 4.477-4.807 6.928-6.928-.283-2.174-.927-3.805-2.73-3.7z" stroke-width=".198"></path><g stroke-width=".198"><path d="M103.31 75.021c-8.068 4.241-16.249 7.35-24.545 9.303l5.938-6.928H29.28l-4.948 4.949H10.475l-.99-10.887-5.938-4.949h20.784l4.949 5.939h55.424l-5.939-6.928c8.91 1.88 17.122 4.991 24.545 9.501zm-93.084 3.291l.248 4.033H3.546z" class="arrow"></path><circle cx="11.586" cy="19.513" r="4.658" class="top-circle"></circle><circle cx="11.586" cy="130.03" r="4.658" class="bottom-circle"></circle></g></g></svg></div></div></div>
    <script>window.__INITIAL_STATE__={"data":{"article":{"id":"07236f06af36b775f70bed77b91bf933","title":"Preloading urls on hover using vue custom directives","content":"\u003Cp\u003EI recently added a functionality in which when a user hovered over a certain link on my page,\nI would preload the url to where that link pointed.\nThe benefits and limitations around this are clearly explained in this \u003Ca href=\"http:\u002F\u002Finstantclick.io\u002F\" target=\"_blank\" rel=\"noopener\"\u003Epost\u003C\u002Fa\u003E from \u003Ca href=\"http:\u002F\u002Finstantclick.io\u002F\" target=\"_blank\" rel=\"noopener\"\u003Einstantclick.io\u003C\u002Fa\u003E,\nbut in summary:\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EBefore visitors click on a link, they hover over that link. Between these two events, 200 ms to 300 ms usually pass by (test yourself here). InstantClick makes use of that time to preload the page, so that the page is already there when you click.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EHere is what happens with this approach:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUser hovers over a link on the page;\u003C\u002Fli\u003E\n\u003Cli\u003EWe send a GET request to the value of the link's href property;\u003C\u002Fli\u003E\n\u003Cli\u003EBy the time the user clicks on the link, the page will already be in the cache(or at least, connection latency will have decreased).\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EI firstly implemented this as follows:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-html\"\u003E\u003Ccode class=\"language-html\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Ediv\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\"token attr-name\"\u003Ehref\u003C\u002Fspan\u003E\u003Cspan class=\"token attr-value\"\u003E\u003Cspan class=\"token punctuation attr-equals\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E\u002Fpage-to-be-preloaded\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token attr-name\"\u003E\u003Cspan class=\"token namespace\"\u003Ev-on:\u003C\u002Fspan\u003Emouseover.once\u003C\u002Fspan\u003E\u003Cspan class=\"token attr-value\"\u003E\u003Cspan class=\"token punctuation attr-equals\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003Epreload\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E Hover over me to preload\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Ea\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Ediv\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token script\"\u003E\u003Cspan class=\"token language-javascript\"\u003E\n\u003Cspan class=\"token keyword module\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword module\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  methods\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token function\"\u003Epreload\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003Etarget\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token console class-name\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'fetching'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E target\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003Ehref\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token function\"\u003Efetch\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Etarget\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003Ehref\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EI noticed that this preload technique could be reused in other parts of my application, but adding\na component for a pre-load link seemed cumbersome, since this doesn't declare any reusable HTML\nor require any state management, so I decided to use custom directives, which are another form of code reusability in vue that\nallows us to work directly with DOM elements.\u003C\u002Fp\u003E\n\u003Cp\u003ETo achieve that, first lets create a directive :\u003C\u002Fp\u003E\n\u003Cpre class=\"language-javascript\"\u003E\u003Ccode class=\"language-javascript\"\u003E\u003Cspan class=\"token keyword module\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E preloadOnHover \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token function\"\u003Einserted\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Eel\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token keyword control-flow\"\u003Eif\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eel\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003EtagName\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003EtoLowerCase\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E!==\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'a'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token console class-name\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eerror\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'preload directive added to non-link element'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token keyword control-flow\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token keyword control-flow\"\u003Eif\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eel\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003Ehref\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E===\u003C\u002Fspan\u003E \u003Cspan class=\"token dom variable\"\u003Ewindow\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003Elocation\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003Ehref\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token comment\"\u003E\u002F\u002FWe could even validate the url here.\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token keyword control-flow\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n        el\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003EaddEventListener\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'mouseover'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003Etarget\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token arrow operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token console class-name\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'preloading'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E target\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003Ehref\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token function\"\u003Efetch\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Etarget\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003Ehref\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n            once\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token boolean\"\u003Etrue\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EA few things to note in this implementation are:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EWe validate to see if the element we want to is a link and that it has the \u003Ccode class=\"language-text\"\u003Ehref\u003C\u002Fcode\u003E attribute\u003C\u002Fli\u003E\n\u003Cli\u003ESince we passed a value of true to the \u003Ccode class=\"language-text\"\u003Eonce\u003C\u002Fcode\u003E parameter, the event handler will only be executed once.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EIn order to make use of our newly created directive, we just need to declare it as a directive in our component\nand then add it to our template as\u003Ccode class=\"language-text\"\u003Ev-preload-on-hover\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-html\"\u003E\u003Ccode class=\"language-html\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Ediv\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\"token attr-name\"\u003Ehref\u003C\u002Fspan\u003E\u003Cspan class=\"token attr-value\"\u003E\u003Cspan class=\"token punctuation attr-equals\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E\u002Fpage-to-be-preloaded\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token attr-name\"\u003Ev-preload-on-hover\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E Hover to preload\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Ea\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token comment\"\u003E&lt;!-- If using vue-router, we can add &lt;router-link v-preload-on-hover\u003E&lt;\u002Frouter-link\u003E \u003E --\u003E\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Ediv\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token script\"\u003E\u003Cspan class=\"token language-javascript\"\u003E\n    \u003Cspan class=\"token keyword module\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token imports\"\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003EpreloadOnHover\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword module\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'..\u002Fdirectives'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"token keyword module\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword module\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        directives\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n            preloadOnHover\n        \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch1 id=\"a-few-things-we-should-take-into-consideration\"\u003E\u003Ca href=\"#a-few-things-we-should-take-into-consideration\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link heading-anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EA few things we should take into consideration\u003C\u002Fh1\u003E\n\u003Cul\u003E\n\u003Cli\u003EWhenever possible, consider using HTML resource hints(prefetch, preconnect, preload, etc) instead, to improve\nthe loading speed of pages\u002Fassets that are likely to be needed for the current\u002Fnext navigation.\u003C\u002Fli\u003E\n\u003Cli\u003ESince we're using \u003Ccode class=\"language-text\"\u003Emouseover\u003C\u002Fcode\u003E events, this only works on devices with a pointer\u002Fmouse, for devices with touch input,\nwe'd have to adapt this solution to use other events(eg: \u003Ccode class=\"language-text\"\u003Etouchstart\u003C\u002Fcode\u003E)\u003C\u002Fli\u003E\n\u003Cli\u003EThis should be used carefuly, since we don't want to waste bandwidth by prefetching assets that might not be needed.\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThe final code for this component can be seen in this \u003Ca href=\"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Fwizardly-aryabhata-160c5?file=\u002Fsrc\u002Fcomponents\u002FHelloWorld.vue:0-220\" target=\"_blank\" rel=\"noopener\"\u003Ecode sandbox project\u003C\u002Fa\u003E, and I hope you learned something interesting from this article.\u003C\u002Fp\u003E\n\u003Cp\u003EHappy coding!!🚀🚀🚀🚀🚀\u003C\u002Fp\u003E\n","published":"May 11, 2021","updated":"May 11, 2021","summary":"I recently added a functionality in which when a user hovered over a certain link on my page, I would preload the url to where that link pointed. The reasons and limi.....","tags":[{"title":"vue","path":"\u002Fblog\u002Ftag\u002Fvue\u002F"}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.b818e3a5.js" defer></script>
  </body>
</html>
