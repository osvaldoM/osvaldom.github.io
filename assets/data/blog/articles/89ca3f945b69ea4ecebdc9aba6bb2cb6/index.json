{"hash":"2c7bbba21e5b7f4b9b0c9c1ef41c292d3e64d823","data":{"article":{"id":"89ca3f945b69ea4ecebdc9aba6bb2cb6","title":"Sending test emails on ubuntu","content":"<h2 id=\"setup-email-client-for-development-purpose-on-ubuntu\"><a href=\"#setup-email-client-for-development-purpose-on-ubuntu\" aria-hidden=\"true\"><span class=\"icon icon-link heading-anchor\"></span></a>Setup email client for development purpose on ubuntu.</h2>\n<p>My setup involves two parties:</p>\n<ul>\n<li>postfix</li>\n<li>mailtrap</li>\n</ul>\n<p>Postfix is a <a href=\"https://en.wikipedia.org/wiki/Message_transfer_agent\" target=\"_blank\" rel=\"noopener\">mail transfer agent</a>(mta) that recieves mails\nfrom either another MTA or from a <a href=\"https://en.wikipedia.org/wiki/Email_client\" target=\"_blank\" rel=\"noopener\">mail client</a>.</p>\n<p>The transmission details are specified by the SMTP protocol. When a\nrecipient mailbox of a message is not hosted locally(eg. if I'm sending an email from localhost to gmail.com),the message is relayed, that is, forwarded to another MTA(which is going to be mailtrap in our case).</p>\n<p>postfix only sends emails but does not store them in a mailbox(AFAIK), so I can't read the emails. That is why I'm relaying the messages to mailtrap.\nMailtrap in the other hand, has a mailserver and \"traps\" the email for visualization, not attempting to deliver it to the final receipient.</p>\n<h3 id=\"setup-postfix\"><a href=\"#setup-postfix\" aria-hidden=\"true\"><span class=\"icon icon-link heading-anchor\"></span></a>Setup postfix</h3>\n<ul>\n<li>\n<p>disable whatever mailservice you might have running. eg.</p>\n<pre class=\"language-text\"><code class=\"language-text\">  sudo service sendmail stop\n  </code></pre>\n</li>\n<li>\n<p>install postfix</p>\n<pre class=\"language-text\"><code class=\"language-text\">  sudo apt-get install postfix</code></pre>\n</li>\n</ul>\n<p>Configuration for postfix should be prompted automatically, if not, run:</p>\n<pre class=\"language-text\"><code class=\"language-text\">    sudo dpkg-reconfigure postfix\n    </code></pre>\n<p>During the configuration, the only thing I had to select was to use internet site as the general configuration as in the following image:</p>\n<p><img src=\"https://i.postimg.cc/Wp6mpmqm/Selection-083.png\" alt=\"image\"></p>\n<p>The rest I left as it was, a sample of my current config is(I hope I didn't expose anything unsafe here ;) ):</p>\n<pre class=\"language-text\"><code class=\"language-text\">    smtpd_relay_restrictions = permit_mynetworks permit_sasl_authenticated defer_unauth_destination\n    myhostname = ux-osvaldo\n    alias_maps = hash:/etc/aliases\n    alias_database = hash:/etc/aliases\n    mydestination = $myhostname, ux-osvaldo, localhost.localdomain, , localhost\n    relayhost =\n    mynetworks = 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128\n    mailbox_size_limit = 0\n    recipient_delimiter = +\n    inet_interfaces = all\n    inet_protocols = all\n    \n    </code></pre>\n<h3 id=\"setup-mailtrap\"><a href=\"#setup-mailtrap\" aria-hidden=\"true\"><span class=\"icon icon-link heading-anchor\"></span></a>setup mailtrap</h3>\n<p><a href=\"https://mailtrap.io\" target=\"_blank\" rel=\"noopener\">mailtrap</a> which provides a fake smtp server to which you can send emails.\nmailtrap also offers a web interface that can be used as a mailclient.</p>\n<p>To use it, Create an account and use the given setup instructions.\\</p>\n<h3 id=\"refferences\"><a href=\"#refferences\" aria-hidden=\"true\"><span class=\"icon icon-link heading-anchor\"></span></a>Refferences</h3>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Postfix_(software\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Postfix_(software</a>)</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Message_transfer_agent\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Message_transfer_agent</a></li>\n<li><a href=\"https://www.digitalocean.com/community/questions/use-postfix-instead-of-sendmail\" target=\"_blank\" rel=\"noopener\">https://www.digitalocean.com/community/questions/use-postfix-instead-of-sendmail</a></li>\n<li><a href=\"https://ubuntuforums.org/showthread.php?t=1605548\" target=\"_blank\" rel=\"noopener\">https://ubuntuforums.org/showthread.php?t=1605548</a></li>\n<li></li>\n</ul>\n","published":"February 9, 2021","updated":"February 9, 2021","summary":"A brief explanation of how email is sent to a recipient and what's my current setup for sending emails in my development environment","tags":[{"title":"email","path":"/blog/tag/email/"},{"title":"mailtrap","path":"/blog/tag/mailtrap/"}]}},"context":{}}